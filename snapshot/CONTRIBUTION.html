<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-04-29 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>oss-build &#x2013; 如何构建oss-build或贡献代码</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                oss-build
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-04-29</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.10.OSS-SNAPSHOT</span>
                      </div>
            <div class="xright">      
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>&#x5982;&#x4f55;&#x6784;&#x5efa;oss-build&#x6216;&#x8d21;&#x732e;&#x4ee3;&#x7801;</h1>

<div class="section">
<h2><a name="a_Mac_OS_X_El_Capitan"></a>&#x642d;&#x5efa;&#x5f00;&#x53d1;&#x73af;&#x5883; (Mac OS X El Capitan)</h2>

<div class="section">
<div class="section">
<div class="section">
<h5><a name="aDocker_for_Mac"></a><a href="#adocker-for-mac">&#x8bbe;&#x7f6e;Docker for Mac</a></h5>
</div>
<div class="section">
<h5><a name="aEclipseworkspaceIntellijproject_oss."></a>&#x5efa;&#x8bae;&#x4f60;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;&#x5e72;&#x51c0;&#x7684;&#x76ee;&#x5f55;(&#x7528;&#x4e8e;&#x521b;&#x5efa;Eclipse&#x7684;workspace&#x6216;Intellij&#x7684;project), &#x8fd9;&#x91cc;&#x5047;&#x8bbe;&#x5b83;&#x53eb;<tt>oss</tt>.</h5>

<blockquote>
  
<p>&#x6ce8;&#x610f;<tt>oss</tt>&#x4e0b;&#x4e0d;&#x8981;&#x6df7;&#x5165;&#x5176;&#x5b83;&#x9879;&#x76ee;, &#x5426;&#x5219;&#x6784;&#x5efa;gitbook&#x6216;&#x542f;&#x52a8;&#x672c;&#x5730;git&#x670d;&#x52a1;&#x65f6;&#x53ef;&#x80fd;&#x4f1a;&#x51fa;&#x73b0;&#x95ee;&#x9898;.</p>
  
<p>&#x542f;&#x52a8;&#x672c;&#x5730;git&#x4e4b;&#x524d;&#x4e00;&#x5b9a;&#x8981;&#x786e;&#x4fdd;&#x672c;&#x5730;&#x7684;oss-build&#x9879;&#x76ee;&#x6709;master&#x5206;&#x652f;.  &#x56e0;&#x4e3a;&#x6211;&#x4eec;&#x7684;&#x9879;&#x76ee;&#x4f7f;&#x7528;gitflow, &#x9ed8;&#x8ba4;&#x5206;&#x652f;&#x90fd;&#x662f;develop, master&#x5206;&#x652f;&#x53ea;&#x653e;production ready&#x7684;&#x4ee3;&#x7801;.  &#x6784;&#x5efa;&#x65f6;&#x9700;&#x8981;&#x5230;oss-build&#x7684;git&#x4ed3;&#x5e93;&#x4e0b;&#x8f7d;&#x914d;&#x7f6e;&#x6587;&#x4ef6;, &#x901a;&#x5e38;&#x6307;&#x5411;master&#x5206;&#x652f;.  &#x6240;&#x4ee5;&#x8981;&#x4fdd;&#x8bc1;master&#x5206;&#x652f;&#x88ab;push&#x5230;&#x672c;&#x5730;git&#x670d;&#x52a1;.</p>
  
<p>&#x5982;&#x679c;&#x5fd8;&#x8bb0;&#x4e86;&#x542f;&#x52a8;&#x4e4b;&#x524d;&#x9700;&#x8981;master&#x5206;&#x652f;, &#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4ee5;&#x4e0b;&#x4efb;&#x610f;&#x4e00;&#x79cd;&#x65b9;&#x6cd5;&#x8865;&#x6551;  1.pull&#x4e0b;&#x6765;master&#x5206;&#x652f;&#x5e76;&#x91cd;&#x542f;&#x672c;&#x5730;git&#x670d;&#x52a1;  2.&#x6267;&#x884c;<tt>(cd oss-build; git push local-git master:master;)</tt> </p>
</blockquote>

<p>&#x81ea;&#x52a8;&#x8bbe;&#x7f6e;oss&#x5f00;&#x53d1;&#x73af;&#x5883;  via curl  <tt>sh -c &quot;$(curl -fsSL https://github.com/home1-oss/oss-build/raw/master/src/main/install/install_oss_on_mac.sh)&quot;</tt>  via wget  <tt>sh -c &quot;$(wget https://github.com/home1-oss/oss-build/raw/master/src/main/install/install_oss_on_mac.sh -O -)&quot;</tt></p>

<p>&#x5b83;&#x4f1a;&#x81ea;&#x52a8;&#x8fdb;&#x884c;&#x4e0b;&#x5217;&#x64cd;&#x4f5c;:</p>

<p>&#x68c0;&#x67e5;&#x5fc5;&#x5907;&#x5de5;&#x5177;&#x7684;&#x7248;&#x672c;, &#x81ea;&#x52a8;&#x5b89;&#x88c5;&#x6216;&#x63d0;&#x793a;&#x4f60;&#x624b;&#x52a8;&#x5b89;&#x88c5;</p>

<p>&#x81ea;&#x52a8;&#x914d;&#x7f6e;&#x73af;&#x5883;&#x53d8;&#x91cf;</p>

<blockquote>
  
<p>TODO &#x4e3a;&#x4ec0;&#x4e48;&#x8981;&#x914d;&#x7f6e;&#x73af;&#x5883;&#x53d8;&#x91cf;?  &#x914d;&#x7f6e;&#x73af;&#x5883;&#x53d8;&#x91cf;&#x4e3a;&#x4e0a;&#x7b56;, &#x4fee;&#x6539;&#x672c;&#x5730;settings.xml&#x4e3a;&#x4e0b;&#x7b56;</p>
</blockquote>

<p>&#x8bbe;&#x7f6e;maven&#x7b49;&#x6784;&#x5efa;&#x5de5;&#x5177;</p>

<p>&#x5c06;oss&#x5168;&#x5957;&#x9879;&#x76ee;&#x548c;&#x914d;&#x7f6e;repo&#x9010;&#x4e2a;clone&#x5230;<tt>oss</tt>&#x76ee;&#x5f55;&#x4e0b;</p>

<p>&#x6784;&#x5efa;&#x9879;&#x76ee;, &#x542f;&#x52a8;docker&#x5bb9;&#x5668;</p>
</div>
<div class="section">
<h5><a name="aIDE"></a><a href="#aide">&#x5b89;&#x88c5;IDE&#x63d2;&#x4ef6;</a></h5>

<ul>
  
<li>IntelliJ&#x63d2;&#x4ef6; Lombok (And enable annotation processing)</li>
  
<li>IntelliJ&amp;Eclipse&#x63d2;&#x4ef6; Grep Console</li>
  
<li>&#x5176;&#x4ed6;&#x63d2;&#x4ef6;&#x8bf7;&#x53c2;&#x8003;<a href="./CODESTYLE.html">oss-build&#x7684;&#x4ee3;&#x7801;&#x89c4;&#x8303;</a></li>
</ul>

<p><img src="images/intellij_project_sdk.png" alt="" /> <img src="images/intellij_enable_annotation_processors.png" alt="" /></p>
</div>
<div class="section">
<h5><a name="aIntelliJ_IDEMaven_runnerimportingVM"></a><a href="#aintellij-idemaven-runnerimportingvm">&#x914d;&#x7f6e;IntelliJ IDE&#x7684;Maven runner&#x548c;importing&#x7684;VM&#x53c2;&#x6570;</a></h5>

<p>&#x6267;&#x884c;<tt>oss-vmopts</tt>&#x547d;&#x4ee4;, &#x590d;&#x5236;&#x8f93;&#x51fa;&#x7684;&#x5185;&#x5bb9;, &#x7c98;&#x8d34;&#x5230;&#x4e0b;&#x9762;&#x56fe;&#x793a;&#x5904;.  <img src="images/intellij_maven_runner.png" alt="intellij-maven-runner.png" />  <img src="images/intellij_maven_importing.png" alt="intellij-maven-importing.png" />  &#x6ce8;&#x610f;, &#x6b64;&#x622a;&#x56fe;&#x4ec5;&#x8868;&#x793a;&#x914d;&#x7f6e;&#x7684;&#x4f4d;&#x7f6e;, &#x914d;&#x7f6e;&#x5185;&#x5bb9;&#x4ee5;&#x6587;&#x6863;&#x4e3a;&#x51c6;, &#x52a1;&#x5fc5;&#x5b8c;&#x6574;&#x914d;&#x7f6e;.</p>
</div>
<div class="section">
<h5><a name="aIntelliJmaven_module_project."></a>&#x5728;IntelliJ&#x4e2d;&#x4ee5;maven module&#x5bfc;&#x5165;&#x8fd9;&#x4e9b;&#x9879;&#x76ee;, &#x6700;&#x597d;&#x4e0d;&#x8981;&#x5bfc;&#x5165;&#x6210;&#x591a;&#x4e2a;project(&#x591a;&#x4e2a;&#x7a97;&#x53e3;).</h5>
</div>
<div class="section">
<h5><a name="aEclipsemaven_project."></a>&#x5728;Eclipse&#x4e2d;&#x4ee5;maven project&#x5bfc;&#x5165;&#x8fd9;&#x4e9b;&#x9879;&#x76ee;.</h5>

<p>Eclipse&#x4e0d;&#x652f;&#x6301;&#x76f4;&#x63a5;&#x8bbe;&#x7f6e;maven&#x7684;VM&#x53c2;&#x6570;, &#x4f46;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x8bbe;&#x7f6e;JVM&#x53c2;&#x6570;(&#x9700;&#x91cd;&#x542f;&#x624d;&#x80fd;&#x751f;&#x6548;), Launch script (Run Configuration)&#x7684;VM&#x53c2;&#x6570; &#x89e3;&#x51b3;&#x95ee;&#x9898;.</p>

<p>&#x53e6;&#x5916;&#x4e5f;&#x53ef;&#x4ee5;&#x5728;&#x672c;&#x5730;&#x7684;(~/.m2) settings.xml &#x4e2d;&#x5199;properties&#x6765;&#x6307;&#x5b9a;&#x8fd9;&#x4e9b;&#x53d8;&#x91cf;(&#x9700;&#x5237;&#x65b0;Eclipse&#x7684;maven&#x914d;&#x7f6e;&#x6216;&#x91cd;&#x542f;&#x624d;&#x80fd;&#x751f;&#x6548;).</p>
</div></div></div></div>
<div class="section">
<h2><a name="aoss-buildmaven"></a>&#x53d1;&#x5e03;oss-build&#x5feb;&#x7167;&#x5230;maven&#x4ed3;&#x5e93;</h2>

<p>&#x6574;&#x4f53;&#x53d1;&#x5e03;</p>

<div class="source">
<div class="source">
<pre>mvn -U ${DEPLOY_REPOSITORY} clean install deploy
</pre></div></div>

<p>&#x5206;&#x6b65;&#x53d1;&#x5e03;</p>

<div class="source">
<div class="source">
<pre># &#x53d1;&#x5e03;root pom&#x7684;&#x5feb;&#x7167;
mvn -U -N ${DEPLOY_REPOSITORY} clean install deploy
# &#x53d1;&#x5e03;oss-dependency&#x7684;pom&#x7684;&#x5feb;&#x7167;
(cd oss-dependency &amp;&amp; mvn -U ${DEPLOY_REPOSITORY} clean install deploy)
</pre></div></div>
</div>
<div class="section">
<h2><a name="aoss-build"></a>&#x672c;&#x5730;&#x5b89;&#x88c5;oss-build</h2>

<p>&#x6574;&#x4f53;&#x672c;&#x5730;&#x5b89;&#x88c5;</p>

<div class="source">
<div class="source">
<pre>mvn clean install
</pre></div></div>

<p>&#x5206;&#x6b65;&#x672c;&#x5730;&#x5b89;&#x88c5;</p>

<div class="source">
<div class="source">
<pre># &#x79bb;&#x7ebf;&#x672c;&#x5730;&#x5b89;&#x88c5; root pom
mvn -N clean install
# &#x672c;&#x5730;&#x5b89;&#x88c5;oss-dependency&#x7684;pom
(cd oss-dependency &amp;&amp; mvn clean install)
</pre></div></div>
</div>
<div class="section">
<h2><a name="jira_gitlab"></a><a href="#jira-gitlab">jira gitlab&#x96c6;&#x6210;</a></h2>

<p>maven site &#x6784;&#x5efa;&#x65f6;&#x589e;&#x52a0;&#x53c2;&#x6570; </p>

<div class="source">
<div class="source">
<pre>jira.projectKey         # jira&#x4e0a;&#x7684;projectKey
jira.user               # jira&#x7528;&#x6237;&#x540d;
jira.password           # jira&#x5bc6;&#x7801;
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2017.
          All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
